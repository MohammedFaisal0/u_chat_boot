// app/lib/i18n.js
"use client";
import { createContext, useContext, useState, useEffect } from 'react';

const I18nContext = createContext();

export function useI18n() {
  const context = useContext(I18nContext);
  if (!context) {
    throw new Error('useI18n must be used within an I18nProvider');
  }
  return context;
}

// Translation data
const translations = {
  en: {
    // Navigation
    'nav.dashboard': 'Dashboard',
    'nav.users': 'Users',
    'nav.issues': 'Issues',
    'nav.feedback': 'Feedback',
    'nav.reports': 'Reports',
    'nav.chatbot_instructions': 'ChatBot Instructions',
    'nav.faculty_materials': 'Faculty Materials',
    'nav.students': 'Students',
    'nav.profile': 'Profile',
    'nav.chats': 'Chats',
    'nav.my_materials': 'My Materials',
    'nav.submit_material': 'Submit Material',
    'nav.logout': 'Logout',

    // Common
    'common.search': 'Search...',
    'common.notifications': 'Notifications',
    'common.view_all': 'View All',
    'common.settings': 'Settings',
    'common.loading': 'Loading...',
    'common.error': 'Error',
    'common.success': 'Success',
    'common.cancel': 'Cancel',
    'common.save': 'Save',
    'common.saving': 'Saving...',
    'common.edit': 'Edit',
    'common.delete': 'Delete',
    'common.confirm': 'Confirm',
    'common.close': 'Close',
    'common.back': 'Back',
    'common.next': 'Next',
    'common.previous': 'Previous',
    'common.submit': 'Submit',
    'common.reset': 'Reset',
    'common.filter': 'Filter',
    'common.sort': 'Sort',
    'common.export': 'Export',
    'common.import': 'Import',
    'common.refresh': 'Refresh',
    'common.clear': 'Clear',
    'common.select_all': 'Select All',
    'common.deselect_all': 'Deselect All',
    'common.retry': 'Retry',

    // Dashboard
    'dashboard.welcome': 'Welcome',
    'dashboard.welcome_message': 'Welcome back, {name}!',
    'dashboard.welcome_subtitle': 'Here\'s what\'s happening with your account today.',
    'dashboard.total_chats': 'Total Chats',
    'dashboard.active_issues': 'Active Issues',
    'dashboard.resolved_issues': 'Resolved Issues',
    'dashboard.saved_conversations': 'Saved Conversations',
    'dashboard.stats.total_chats': 'Total Chats',
    'dashboard.stats.active_issues': 'Active Issues',
    'dashboard.stats.resolved_issues': 'Resolved Issues',
    'dashboard.stats.saved_conversations': 'Saved Conversations',
    'dashboard.quick_actions': 'Quick Actions',
    'dashboard.start_new_chat': 'Start New Chat',
    'dashboard.start_new_chat_desc': 'Begin a new conversation with the AI assistant',
    'dashboard.report_issue': 'Report Issue',
    'dashboard.report_issue_desc': 'Report a problem or get help',
    'dashboard.actions.start_chat': 'Start New Chat',
    'dashboard.actions.start_chat_desc': 'Begin a new conversation with the AI assistant',
    'dashboard.actions.report_issue': 'Report Issue',
    'dashboard.actions.report_issue_desc': 'Report a problem or get help',
    'dashboard.actions.view_profile': 'View Profile',
    'dashboard.actions.view_profile_desc': 'Manage your account information',
    'dashboard.actions.help_center': 'Help Center',
    'dashboard.actions.help_center_desc': 'Get help and support',
    'dashboard.view_materials': 'View Materials',
    'dashboard.view_materials_desc': 'Browse course materials and resources',
    'dashboard.update_profile': 'Update Profile',
    'dashboard.update_profile_desc': 'Manage your account information',
    'dashboard.recent_activity': 'Recent Activity',
    'dashboard.activity.new_chat': 'Started a new chat',
    'dashboard.activity.issue_resolved': 'Issue resolved',
    'dashboard.activity.time_ago': '{time} ago',

    // Common
    'common.loading': 'Loading...',
    'common.error': 'Error',
    'common.success': 'Success',
    'common.cancel': 'Cancel',
    'common.save': 'Save',
    'common.delete': 'Delete',
    'common.edit': 'Edit',
    'common.add': 'Add',
    'common.search': 'Search',
    'common.submit': 'Submit',
    'common.close': 'Close',
    'common.yes': 'Yes',
    'common.no': 'No',
    'common.confirm': 'Confirm',

    // Authentication
    'auth.login': 'Login',
    'auth.register': 'Register',
    'auth.username': 'Username',
    'auth.password': 'Password',
    'auth.email': 'Email',
    'auth.login_success': 'Login successful',
    'auth.login_failed': 'Login failed',
    'auth.register_success': 'Registration successful',
    'auth.register_failed': 'Registration failed',
    'auth.welcome_back': 'Welcome Back',
    'auth.login_subtitle': 'Sign in to your account to continue',
    'auth.username_placeholder': 'Enter your username or email',
    'auth.password_placeholder': 'Enter your password',
    'auth.remember_me': 'Remember me',
    'auth.logging_in': 'Signing in...',
    'auth.forgot_password': 'Forgot your password?',
    'auth.no_account': 'Don\'t have an account?',
    'auth.create_account': 'Create Account',
    'auth.register_subtitle': 'Join our university community',
    'auth.full_name': 'Full Name',
    'auth.full_name_placeholder': 'Enter your full name',
    'auth.email_placeholder': 'Enter your email address',
    'auth.gender': 'Gender',
    'auth.select_gender': 'Select Gender',
    'auth.male': 'Male',
    'auth.female': 'Female',
    'auth.address': 'Address',
    'auth.address_placeholder': 'Enter your address',
    'auth.phone': 'Phone Number',
    'auth.phone_placeholder': 'Enter your phone number',
    'auth.major': 'Major',
    'auth.major_placeholder': 'Enter your major',
    'auth.creating_account': 'Creating Account...',
    'auth.have_account': 'Already have an account?',
    'auth.sign_in': 'Sign In',

    // Chat
    'chat.new_chat': 'New Chat',
    'chat.send_message': 'Send Message',
    'chat.type_message': 'Type your message...',
    'chat.rate_response': 'Rate this response',
    'chat.report_issue': 'Report this response',
    'chat.favorite': 'Add to favorites',
    'chat.unfavorite': 'Remove from favorites',
    'chat.rename': 'Rename chat',
    'chat.delete': 'Delete chat',
    'chat.confirm_delete': 'Are you sure you want to delete this chat?',
    'chat.save_conversation': 'Save Conversation',
    'chat.unsave_conversation': 'Unsave Conversation',
    'chat.save_conversation_title': 'Save Important Conversation',
    'chat.save_conversation_info': 'Save this conversation for future reference with a reason.',
    'chat.conversation_saved': 'Conversation Saved',
    'chat.saved_conversation_info': 'This conversation has been saved and can be accessed later.',
    'chat.save_reason': 'Save Reason',
    'chat.save_reason_placeholder': 'Why are you saving this conversation?',
    'chat.save_reason_required': 'Please provide a reason for saving this conversation.',
    'chat.save': 'Save',
    'chat.unsave': 'Unsave',
    'chat.save_failed': 'Failed to save conversation',
    'chat.unsave_failed': 'Failed to unsave conversation',
    'chat.select_chat_title': 'Select a Chat',
    'chat.select_chat_description': 'Choose a conversation from the sidebar or start a new one',
    'chat.start_new_chat': 'Start New Chat',
    'chat.saved': 'Saved',
    'chat.favorite': 'Favorite',
    'chat.normal': 'Normal',
    'chat.no_search_results': 'No chats found matching your search',
    'chat.start_first_chat': 'Start your first chat',
    'chat.messages': 'messages',
    'chat.saved_reason': 'Saved reason',
    'chat.chat_name': 'Chat Name',
    'chat.enter_chat_name': 'Enter chat name...',
    'chat.create_chat': 'Create Chat',
    'chat.rename_chat': 'Rename Chat',
    'chat.rename': 'Rename',
    'chat.name_required': 'Please enter a name',
    'chat.confirm_unsave': 'Are you sure you want to unsave this conversation?',

    // Issues
    'issue.report_issue': 'Report Issue',
    'issue.issue_type': 'Issue Type',
    'issue.technical': 'Technical Issue',
    'issue.incorrect_response': 'Incorrect Response',
    'issue.complex_question': 'Complex Question',
    'issue.other': 'Other',
    'issue.details': 'Issue Details',
    'issue.details_placeholder': 'Please describe the issue in detail...',
    'issue.submit': 'Submit Issue',
    'issue.status.open': 'Open',
    'issue.status.in_progress': 'In Progress',
    'issue.status.resolved': 'Resolved',
    'issue.status.closed': 'Closed',
    'issue.status.escalated': 'Escalated',

    // Feedback
    'feedback.rate_response': 'Rate this response',
    'feedback.how_helpful': 'How helpful was this response?',
    'feedback.comment': 'Additional comments (optional)',
    'feedback.submit_rating': 'Submit Rating',
    'feedback.thank_you': 'Thank you for your feedback!',

    // Faculty Materials
    'material.submit_material': 'Submit Material',
    'material.title': 'Title',
    'material.description': 'Description',
    'material.course': 'Course',
    'material.topic': 'Topic',
    'material.file': 'File',
    'material.file_url': 'File URL (optional)',
    'material.upload_file': 'Or Upload File',
    'material.status.pending': 'Pending',
    'material.status.approved': 'Approved',
    'material.status.rejected': 'Rejected',
    'material.create_instruction': 'Create Instruction',

    // Admin
    'admin.dashboard': 'Admin Dashboard',
    'admin.total_students': 'Total Students',
    'admin.total_issues': 'Total Issues',
    'admin.total_instructions': 'Total Instructions',
    'admin.total_accounts': 'Total Accounts',
    'admin.total_feedbacks': 'Total Feedbacks',
    'admin.avg_rating': 'Average Rating',
    'admin.recent_issues': 'Recent Issues',
    'admin.top_active_students': 'Top Active Students',
    'admin.issue_statistics': 'Issue Statistics',
    'admin.registration_trend': 'Student Registration Trend',

    // Student
    'student.dashboard': 'Student Dashboard',
    'student.profile': 'Profile',
    'student.academic_id': 'Academic ID',
    'student.name': 'Name',
    'student.gender': 'Gender',
    'student.address': 'Address',
    'student.phone': 'Phone',
    'student.major': 'Major',
    'student.my_issues': 'My Issues',
    'student.my_chats': 'My Chats',
    'student.profile_desc': 'Manage your personal information and account settings',

    // Issues
    'issues.manage_your_issues': 'Manage and track your reported issues',
    'issues.add_new_issue': 'Add New Issue',
    'issues.id': 'ID',
    'issues.type': 'Type',
    'issues.details': 'Details',
    'issues.chat': 'Chat',
    'issues.status': 'Status',
    'issues.date': 'Date',
    'issues.no_issues_found': 'No issues found',

    // Faculty
    'faculty.dashboard': 'Faculty Dashboard',
    'faculty.total_materials': 'Total Materials',
    'faculty.pending_materials': 'Pending',
    'faculty.approved_materials': 'Approved',
    'faculty.my_materials': 'My Materials',

    // Messages
    'message.welcome': 'Welcome to IMSIU Chatbot',
    'message.ask_question': 'Ask me anything about your courses!',
    'message.no_chats': 'No chats found',
    'message.no_issues': 'No issues found',
    'message.no_materials': 'No materials found',
    'message.select_chat': 'Select a chat or start a new one',
    'message.conversation_saved': 'Conversation saved successfully',
    'message.conversation_unsaved': 'Conversation unsaved successfully',
    'message.save_failed': 'Failed to save conversation',
    'message.unsave_failed': 'Failed to unsave conversation',


    // Account Status
    'account.status.pending': 'Pending',
    'account.status.approved': 'Approved',
    'account.status.suspended': 'Suspended',
    'account.status.rejected': 'Rejected',
    'account.suspended.title': 'Account Suspended',
    'account.suspended.message': 'Your account has been suspended. Please contact the administrator for more information.',
    'account.pending.title': 'Account Pending Approval',
    'account.pending.message': 'Your account is pending approval. Please wait for an administrator to review and approve your account.',
    'account.rejected.title': 'Account Rejected',
    'account.rejected.message': 'Your account has been rejected. Please contact the administrator for more information.',
    'account.approve': 'Approve',
    'account.suspend': 'Suspend',
    'account.reject': 'Reject',
    'account.suspension_reason': 'Suspension Reason',


    // Reports
    'reports.title': 'Reports & Analytics',
    'reports.generate_report': 'Generate Report',
    'reports.report_type': 'Report Type',
    'reports.select_report_type': 'Select Report Type',
    'reports.date_range': 'Date Range',
    'reports.generate': 'Generate Report',
    'reports.generating': 'Generating...',
    'reports.download': 'Download',
    'reports.report_generated': 'Report Generated',
    'reports.fill_all_fields': 'Please fill all fields',
    'reports.available_reports': 'Available Reports',
    'reports.trends': 'Trends',
    'reports.analysis': 'Analysis',
    'reports.critical_events': 'Critical Events',
    'reports.user_activity': 'User Activity Report',
    'reports.user_activity_desc': 'Analyze user registration, login patterns, and activity trends',
    'reports.chatbot_performance': 'Chatbot Performance Report',
    'reports.chatbot_performance_desc': 'Monitor chatbot response times, conversation quality, and usage statistics',
    'reports.issue_analysis': 'Issue Analysis Report',
    'reports.issue_analysis_desc': 'Track issue resolution times, types, and patterns',
    'reports.system_overview': 'System Overview Report',
    'reports.system_overview_desc': 'Comprehensive system health and performance metrics',

    // Landing Page
    'landing.nav.features': 'Features',
    'landing.nav.about': 'About',
    'landing.nav.team': 'Our Team',
    'landing.nav.contact': 'Contact',
    'landing.auth.signin': 'Sign In',
    'landing.auth.signup': 'Sign Up',
    'landing.hero.title': 'Welcome to Naseeh',
    'landing.hero.subtitle': 'Your intelligent university companion',
    'landing.hero.description': 'Experience the future of university support with our AI-powered chatbot designed specifically for Imam Mohammad ibn Saud Islamic University students.',
    'landing.hero.get_started': 'Get Started',
    'landing.features.title': 'Powerful features to enhance your university experience',
    'landing.features.chat.title': '24/7 AI Chat Support',
    'landing.features.chat.description': 'Get instant answers to your questions anytime, anywhere. Our AI chatbot is always ready to help.',
    'landing.features.community.title': 'Community Connection',
    'landing.features.community.description': 'Stay connected with your university community. Get updates, join discussions, and collaborate with peers.',
    'landing.about.title': 'About Naseeh',
    'landing.about.description1': 'The AI Chatbot Web App is an innovative platform designed to cater to a wide range of users, leveraging the capabilities of artificial intelligence to provide a versatile and interactive chat experience.',
    'landing.about.description2': 'This web application is not confined to business use but is accessible to all users, offering real-time, personalized communication and assistance. Powered by advanced AI algorithms and natural language processing to understand and respond to a diverse array of queries.',
    'landing.about.description3': 'This application features a user-friendly interface, allowing for seamless interaction with the AI chatbot. It stands as a testament to the fusion of user accessibility and cutting-edge AI, aiming to enhance information accessibility and provide a dynamic platform for learning, inquiry, and entertainment.',
    'landing.about.description4': 'In this work, we will create an ad-hoc chatbot service for Imam Mohammad ibn Saud Islamic University students to help answer their questions more effectively than traditional methods.',
    'landing.team.title': 'Our Team',
    'landing.team.member': 'Team Member',
    'landing.contact.title': 'Contact Us',
    'landing.contact.email': 'Email',
    'landing.contact.phone': 'Phone',
    'landing.contact.address': 'Address',
    'landing.contact.email_value': 'info@unichatai.com',
    'landing.contact.phone_value': '+966 (123) 567-890',
    'landing.contact.address_value': 'IMSI University, 12345',
  },

  ar: {
    // Navigation
    'nav.dashboard': 'لوحة التحكم',
    'nav.users': 'المستخدمون',
    'nav.issues': 'البلاغات',
    'nav.feedback': 'التقييمات',
    'nav.reports': 'التقارير',
    'nav.chatbot_instructions': 'تعليمات البوت',
    'nav.faculty_materials': 'مواد أعضاء هيئة التدريس',
    'nav.students': 'الطلاب',
    'nav.profile': 'الملف الشخصي',
    'nav.chats': 'المحادثات',
    'nav.my_materials': 'موادي',
    'nav.submit_material': 'رفع مادة',
    'nav.logout': 'تسجيل الخروج',

    // Common
    'common.search': 'بحث...',
    'common.notifications': 'الإشعارات',
    'common.view_all': 'عرض الكل',
    'common.settings': 'الإعدادات',
    'common.loading': 'جاري التحميل...',
    'common.error': 'خطأ',
    'common.success': 'نجح',
    'common.cancel': 'إلغاء',
    'common.save': 'حفظ',
    'common.saving': 'جاري الحفظ...',
    'common.edit': 'تعديل',
    'common.delete': 'حذف',
    'common.confirm': 'تأكيد',
    'common.close': 'إغلاق',
    'common.back': 'رجوع',
    'common.next': 'التالي',
    'common.previous': 'السابق',
    'common.submit': 'إرسال',
    'common.reset': 'إعادة تعيين',
    'common.filter': 'تصفية',
    'common.sort': 'ترتيب',
    'common.export': 'تصدير',
    'common.import': 'استيراد',
    'common.refresh': 'تحديث',
    'common.clear': 'مسح',
    'common.select_all': 'تحديد الكل',
    'common.deselect_all': 'إلغاء تحديد الكل',
    'common.retry': 'إعادة المحاولة',

    // Dashboard
    'dashboard.welcome': 'أهلاً بك',
    'dashboard.welcome_message': 'أهلاً بك مجدداً، {name}!',
    'dashboard.welcome_subtitle': 'إليك ما يحدث في حسابك اليوم.',
    'dashboard.total_chats': 'إجمالي المحادثات',
    'dashboard.active_issues': 'المشاكل النشطة',
    'dashboard.resolved_issues': 'المشاكل المحلولة',
    'dashboard.saved_conversations': 'المحادثات المحفوظة',
    'dashboard.stats.total_chats': 'إجمالي المحادثات',
    'dashboard.stats.active_issues': 'المشاكل النشطة',
    'dashboard.stats.resolved_issues': 'المشاكل المحلولة',
    'dashboard.stats.saved_conversations': 'المحادثات المحفوظة',
    'dashboard.quick_actions': 'الإجراءات السريعة',
    'dashboard.start_new_chat': 'بدء محادثة جديدة',
    'dashboard.start_new_chat_desc': 'ابدأ محادثة جديدة مع المساعد الذكي',
    'dashboard.report_issue': 'الإبلاغ عن مشكلة',
    'dashboard.report_issue_desc': 'أبلغ عن مشكلة أو احصل على مساعدة',
    'dashboard.actions.start_chat': 'بدء محادثة جديدة',
    'dashboard.actions.start_chat_desc': 'ابدأ محادثة جديدة مع المساعد الذكي',
    'dashboard.actions.report_issue': 'الإبلاغ عن مشكلة',
    'dashboard.actions.report_issue_desc': 'أبلغ عن مشكلة أو احصل على مساعدة',
    'dashboard.actions.view_profile': 'عرض الملف الشخصي',
    'dashboard.actions.view_profile_desc': 'إدارة معلومات حسابك',
    'dashboard.actions.help_center': 'مركز المساعدة',
    'dashboard.actions.help_center_desc': 'احصل على المساعدة والدعم',
    'dashboard.view_materials': 'عرض المواد',
    'dashboard.view_materials_desc': 'تصفح مواد الدورة والموارد',
    'dashboard.update_profile': 'تحديث الملف الشخصي',
    'dashboard.update_profile_desc': 'إدارة معلومات حسابك',
    'dashboard.recent_activity': 'النشاط الأخير',
    'dashboard.activity.new_chat': 'بدأ محادثة جديدة',
    'dashboard.activity.issue_resolved': 'تم حل المشكلة',
    'dashboard.activity.time_ago': 'منذ {time}',

    // Common
    'common.loading': 'جاري التحميل...',
    'common.error': 'خطأ',
    'common.success': 'نجح',
    'common.cancel': 'إلغاء',
    'common.save': 'حفظ',
    'common.delete': 'حذف',
    'common.edit': 'تعديل',
    'common.add': 'إضافة',
    'common.search': 'بحث',
    'common.submit': 'إرسال',
    'common.close': 'إغلاق',
    'common.yes': 'نعم',
    'common.no': 'لا',
    'common.confirm': 'تأكيد',

    // Authentication
    'auth.login': 'تسجيل الدخول',
    'auth.register': 'تسجيل حساب جديد',
    'auth.username': 'اسم المستخدم',
    'auth.password': 'كلمة المرور',
    'auth.email': 'البريد الإلكتروني',
    'auth.login_success': 'تم تسجيل الدخول بنجاح',
    'auth.login_failed': 'فشل تسجيل الدخول',
    'auth.register_success': 'تم إنشاء الحساب بنجاح',
    'auth.register_failed': 'فشل إنشاء الحساب',
    'auth.welcome_back': 'أهلاً بك مجدداً',
    'auth.login_subtitle': 'سجل دخولك للمتابعة',
    'auth.username_placeholder': 'أدخل اسم المستخدم أو البريد الإلكتروني',
    'auth.password_placeholder': 'أدخل كلمة المرور',
    'auth.remember_me': 'تذكرني',
    'auth.logging_in': 'جاري تسجيل الدخول...',
    'auth.forgot_password': 'هل نسيت كلمة المرور؟',
    'auth.no_account': 'ليس لديك حساب؟',
    'auth.create_account': 'إنشاء حساب',
    'auth.register_subtitle': 'انضم إلى مجتمعنا الجامعي',
    'auth.full_name': 'الاسم الكامل',
    'auth.full_name_placeholder': 'أدخل اسمك الكامل',
    'auth.email_placeholder': 'أدخل عنوان بريدك الإلكتروني',
    'auth.gender': 'الجنس',
    'auth.select_gender': 'اختر الجنس',
    'auth.male': 'ذكر',
    'auth.female': 'أنثى',
    'auth.address': 'العنوان',
    'auth.address_placeholder': 'أدخل عنوانك',
    'auth.phone': 'رقم الهاتف',
    'auth.phone_placeholder': 'أدخل رقم هاتفك',
    'auth.major': 'التخصص',
    'auth.major_placeholder': 'أدخل تخصصك',
    'auth.creating_account': 'جاري إنشاء الحساب...',
    'auth.have_account': 'لديك حساب بالفعل؟',
    'auth.sign_in': 'تسجيل الدخول',

    // Chat
    'chat.new_chat': 'محادثة جديدة',
    'chat.send_message': 'إرسال رسالة',
    'chat.type_message': 'اكتب رسالتك...',
    'chat.rate_response': 'قيم هذا الرد',
    'chat.report_issue': 'أبلغ عن هذا الرد',
    'chat.favorite': 'إضافة للمفضلة',
    'chat.unfavorite': 'إزالة من المفضلة',
    'chat.rename': 'إعادة تسمية المحادثة',
    'chat.delete': 'حذف المحادثة',
    'chat.confirm_delete': 'هل أنت متأكد من حذف هذه المحادثة؟',
    'chat.save_conversation': 'حفظ المحادثة',
    'chat.unsave_conversation': 'إلغاء حفظ المحادثة',
    'chat.save_conversation_title': 'حفظ محادثة مهمة',
    'chat.save_conversation_info': 'احفظ هذه المحادثة للمراجعة المستقبلية مع ذكر السبب.',
    'chat.conversation_saved': 'تم حفظ المحادثة',
    'chat.saved_conversation_info': 'تم حفظ هذه المحادثة ويمكن الوصول إليها لاحقاً.',
    'chat.save_reason': 'سبب الحفظ',
    'chat.save_reason_placeholder': 'لماذا تحفظ هذه المحادثة؟',
    'chat.save_reason_required': 'يرجى تقديم سبب لحفظ هذه المحادثة.',
    'chat.save': 'حفظ',
    'chat.unsave': 'إلغاء الحفظ',
    'chat.save_failed': 'فشل في حفظ المحادثة',
    'chat.unsave_failed': 'فشل في إلغاء حفظ المحادثة',
    'chat.select_chat_title': 'اختر محادثة',
    'chat.select_chat_description': 'اختر محادثة من الشريط الجانبي أو ابدأ محادثة جديدة',
    'chat.start_new_chat': 'بدء محادثة جديدة',
    'chat.saved': 'محفوظة',
    'chat.favorite': 'مفضلة',
    'chat.normal': 'عادية',
    'chat.no_search_results': 'لم يتم العثور على محادثات تطابق بحثك',
    'chat.start_first_chat': 'ابدأ محادثتك الأولى',
    'chat.messages': 'رسائل',
    'chat.saved_reason': 'سبب الحفظ',
    'chat.chat_name': 'اسم المحادثة',
    'chat.enter_chat_name': 'أدخل اسم المحادثة...',
    'chat.create_chat': 'إنشاء محادثة',
    'chat.rename_chat': 'إعادة تسمية المحادثة',
    'chat.rename': 'إعادة تسمية',
    'chat.name_required': 'يرجى إدخال اسم',
    'chat.confirm_unsave': 'هل أنت متأكد من إلغاء حفظ هذه المحادثة؟',

    // Issues
    'issue.report_issue': 'الإبلاغ عن مشكلة',
    'issue.issue_type': 'نوع المشكلة',
    'issue.technical': 'مشكلة تقنية',
    'issue.incorrect_response': 'رد غير صحيح',
    'issue.complex_question': 'سؤال معقد',
    'issue.other': 'أخرى',
    'issue.details': 'تفاصيل المشكلة',
    'issue.details_placeholder': 'يرجى وصف المشكلة بالتفصيل...',
    'issue.submit': 'إرسال البلاغ',
    'issue.status.open': 'مفتوح',
    'issue.status.in_progress': 'قيد المعالجة',
    'issue.status.resolved': 'تم الحل',
    'issue.status.closed': 'مغلق',
    'issue.status.escalated': 'مُصعد',

    // Feedback
    'feedback.rate_response': 'قيم هذا الرد',
    'feedback.how_helpful': 'ما مدى فائدة هذا الرد؟',
    'feedback.comment': 'تعليقات إضافية (اختياري)',
    'feedback.submit_rating': 'إرسال التقييم',
    'feedback.thank_you': 'شكراً لك على تقييمك!',

    // Faculty Materials
    'material.submit_material': 'رفع مادة',
    'material.title': 'العنوان',
    'material.description': 'الوصف',
    'material.course': 'المقرر',
    'material.topic': 'الموضوع',
    'material.file': 'الملف',
    'material.file_url': 'رابط الملف (اختياري)',
    'material.upload_file': 'أو رفع ملف',
    'material.status.pending': 'في الانتظار',
    'material.status.approved': 'موافق عليه',
    'material.status.rejected': 'مرفوض',
    'material.create_instruction': 'إنشاء تعليمة',

    // Admin
    'admin.dashboard': 'لوحة تحكم الأدمن',
    'admin.total_students': 'إجمالي الطلاب',
    'admin.total_issues': 'إجمالي البلاغات',
    'admin.total_instructions': 'إجمالي التعليمات',
    'admin.total_accounts': 'إجمالي الحسابات',
    'admin.total_feedbacks': 'إجمالي التقييمات',
    'admin.avg_rating': 'متوسط التقييم',
    'admin.recent_issues': 'البلاغات الأخيرة',
    'admin.top_active_students': 'أكثر الطلاب نشاطاً',
    'admin.issue_statistics': 'إحصائيات البلاغات',
    'admin.registration_trend': 'اتجاه تسجيل الطلاب',

    // Student
    'student.dashboard': 'لوحة تحكم الطالب',
    'student.profile': 'الملف الشخصي',
    'student.academic_id': 'الرقم الأكاديمي',
    'student.name': 'الاسم',
    'student.gender': 'الجنس',
    'student.address': 'العنوان',
    'student.phone': 'الهاتف',
    'student.major': 'التخصص',
    'student.my_issues': 'بلاغاتي',
    'student.my_chats': 'محادثاتي',
    'student.profile_desc': 'إدارة معلوماتك الشخصية وإعدادات الحساب',

    // Issues
    'issues.manage_your_issues': 'إدارة ومتابعة المشاكل المبلغ عنها',
    'issues.add_new_issue': 'إضافة مشكلة جديدة',
    'issues.id': 'الرقم',
    'issues.type': 'النوع',
    'issues.details': 'التفاصيل',
    'issues.chat': 'المحادثة',
    'issues.status': 'الحالة',
    'issues.date': 'التاريخ',
    'issues.no_issues_found': 'لا توجد مشاكل',

    // Faculty
    'faculty.dashboard': 'لوحة تحكم عضو هيئة التدريس',
    'faculty.total_materials': 'إجمالي المواد',
    'faculty.pending_materials': 'في الانتظار',
    'faculty.approved_materials': 'موافق عليها',
    'faculty.my_materials': 'موادي',

    // Messages
    'message.welcome': 'مرحباً بك في بوت جامعة الإمام محمد بن سعود الإسلامية',
    'message.ask_question': 'اسألني أي شيء عن مقرراتك!',
    'message.no_chats': 'لا توجد محادثات',
    'message.no_issues': 'لا توجد بلاغات',
    'message.no_materials': 'لا توجد مواد',
    'message.select_chat': 'اختر محادثة أو ابدأ محادثة جديدة',
    'message.conversation_saved': 'تم حفظ المحادثة بنجاح',
    'message.conversation_unsaved': 'تم إلغاء حفظ المحادثة بنجاح',
    'message.save_failed': 'فشل في حفظ المحادثة',
    'message.unsave_failed': 'فشل في إلغاء حفظ المحادثة',


    // Account Status
    'account.status.pending': 'في الانتظار',
    'account.status.approved': 'موافق عليه',
    'account.status.suspended': 'معلق',
    'account.status.rejected': 'مرفوض',
    'account.suspended.title': 'الحساب معلق',
    'account.suspended.message': 'تم تعليق حسابك. يرجى الاتصال بالإدارة للحصول على مزيد من المعلومات.',
    'account.pending.title': 'الحساب في انتظار الموافقة',
    'account.pending.message': 'حسابك في انتظار الموافقة. يرجى الانتظار حتى يراجع المدير ويوافق على حسابك.',
    'account.rejected.title': 'الحساب مرفوض',
    'account.rejected.message': 'تم رفض حسابك. يرجى الاتصال بالإدارة للحصول على مزيد من المعلومات.',
    'account.approve': 'موافقة',
    'account.suspend': 'تعليق',
    'account.reject': 'رفض',
    'account.suspension_reason': 'سبب التعليق',


    // Reports
    'reports.title': 'التقارير والتحليلات',
    'reports.generate_report': 'توليد تقرير',
    'reports.report_type': 'نوع التقرير',
    'reports.select_report_type': 'اختر نوع التقرير',
    'reports.date_range': 'نطاق التاريخ',
    'reports.generate': 'توليد التقرير',
    'reports.generating': 'جاري التوليد...',
    'reports.download': 'تحميل',
    'reports.report_generated': 'تم توليد التقرير',
    'reports.fill_all_fields': 'يرجى ملء جميع الحقول',
    'reports.available_reports': 'التقارير المتاحة',
    'reports.trends': 'الاتجاهات',
    'reports.analysis': 'التحليل',
    'reports.critical_events': 'الأحداث الحرجة',
    'reports.user_activity': 'تقرير نشاط المستخدمين',
    'reports.user_activity_desc': 'تحليل تسجيل المستخدمين وأنماط تسجيل الدخول واتجاهات النشاط',
    'reports.chatbot_performance': 'تقرير أداء البوت',
    'reports.chatbot_performance_desc': 'مراقبة أوقات استجابة البوت وجودة المحادثات وإحصائيات الاستخدام',
    'reports.issue_analysis': 'تقرير تحليل المشاكل',
    'reports.issue_analysis_desc': 'تتبع أوقات حل المشاكل والأنواع والأنماط',
    'reports.system_overview': 'تقرير نظرة عامة على النظام',
    'reports.system_overview_desc': 'مقاييس شاملة لصحة وأداء النظام',

    // Landing Page
    'landing.nav.features': 'المميزات',
    'landing.nav.about': 'حولنا',
    'landing.nav.team': 'فريقنا',
    'landing.nav.contact': 'اتصل بنا',
    'landing.auth.signin': 'تسجيل الدخول',
    'landing.auth.signup': 'إنشاء حساب',
    'landing.hero.title': 'مرحباً بك في Naseeh',
    'landing.hero.subtitle': 'رفيقك الذكي في الجامعة',
    'landing.hero.description': 'اختبر مستقبل الدعم الجامعي مع بوتنا الذكي المصمم خصيصاً لطلاب جامعة الإمام محمد بن سعود الإسلامية.',
    'landing.hero.get_started': 'ابدأ الآن',
    'landing.features.title': 'مميزات قوية لتحسين تجربتك الجامعية',
    'landing.features.chat.title': 'دعم دردشة ذكي 24/7',
    'landing.features.chat.description': 'احصل على إجابات فورية لأسئلتك في أي وقت ومن أي مكان. بوتنا الذكي جاهز دائماً للمساعدة.',
    'landing.features.community.title': 'الربط المجتمعي',
    'landing.features.community.description': 'ابق على تواصل مع مجتمع جامعتك. احصل على التحديثات، انضم للمناقشات، وتعاون مع زملائك.',
    'landing.about.title': 'حول Naseeh',
    'landing.about.description1': 'تطبيق البوت الذكي هو منصة مبتكرة مصممة لتلبية احتياجات مجموعة واسعة من المستخدمين، مستفيدة من قدرات الذكاء الاصطناعي لتوفير تجربة دردشة تفاعلية ومتعددة الاستخدامات.',
    'landing.about.description2': 'هذا التطبيق ليس مقتصراً على الاستخدام التجاري بل متاح لجميع المستخدمين، ويوفر التواصل الشخصي والمساعدة في الوقت الفعلي. مدعوم بخوارزميات ذكية متقدمة ومعالجة اللغة الطبيعية لفهم والرد على مجموعة متنوعة من الاستفسارات.',
    'landing.about.description3': 'يتميز هذا التطبيق بواجهة سهلة الاستخدام، مما يسمح بالتفاعل السلس مع البوت الذكي. إنه شاهد على دمج سهولة الوصول للمستخدم مع أحدث تقنيات الذكاء الاصطناعي، ويهدف إلى تعزيز إمكانية الوصول للمعلومات وتوفير منصة ديناميكية للتعلم والاستفسار والترفيه.',
    'landing.about.description4': 'في هذا العمل، سنقوم بإنشاء خدمة بوت ذكي مخصصة لطلاب جامعة الإمام محمد بن سعود الإسلامية لمساعدتهم في الإجابة على أسئلتهم بشكل أكثر فعالية من الطرق التقليدية.',
    'landing.team.title': 'فريقنا',
    'landing.team.member': 'عضو الفريق',
    'landing.contact.title': 'اتصل بنا',
    'landing.contact.email': 'البريد الإلكتروني',
    'landing.contact.phone': 'الهاتف',
    'landing.contact.address': 'العنوان',
    'landing.contact.email_value': 'info@unichatai.com',
    'landing.contact.phone_value': '+966 (123) 567-890',
    'landing.contact.address_value': 'جامعة الإمام محمد بن سعود الإسلامية، 12345',
  }
};

export function I18nProvider({ children }) {
  const [language, setLanguage] = useState('ar'); // Default to Arabic
  const [isRTL, setIsRTL] = useState(true);

  useEffect(() => {
    // Load language from localStorage or default to Arabic
    const savedLanguage = localStorage.getItem('language') || 'ar';
    setLanguage(savedLanguage);
    setIsRTL(savedLanguage === 'ar');

    // Update document direction
    document.documentElement.dir = savedLanguage === 'ar' ? 'rtl' : 'ltr';
    document.documentElement.lang = savedLanguage;
  }, []);

  const changeLanguage = (newLanguage) => {
    setLanguage(newLanguage);
    setIsRTL(newLanguage === 'ar');
    localStorage.setItem('language', newLanguage);

    // Update document direction
    document.documentElement.dir = newLanguage === 'ar' ? 'rtl' : 'ltr';
    document.documentElement.lang = newLanguage;

    // Force re-render by updating the state
    setTimeout(() => {
      setLanguage(newLanguage);
      setIsRTL(newLanguage === 'ar');
    }, 0);
  };

  const t = (key, params = {}) => {
    let translation = translations[language][key] || key;

    // Replace parameters in translation
    Object.keys(params).forEach(param => {
      translation = translation.replace(`{${param}}`, params[param]);
    });

    return translation;
  };

  const value = {
    language,
    lang: language, // Add alias for compatibility
    isRTL,
    changeLanguage,
    t,
    translations: translations[language]
  };

  return (
    <I18nContext.Provider value={value}>
      {children}
    </I18nContext.Provider>
  );
}
